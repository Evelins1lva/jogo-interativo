import tkinter as tk
import random
from PIL import Image, ImageTk

# Perguntas e respostas com imagens
perguntas = [
    {"pergunta": "Quantos patinhos h√° na tela?", "imagem": "imagens/patos.png", "resposta": 3, "opcoes": [2, 3, 4]},
    {"pergunta": "Quantas ma√ß√£s h√° na cesta?", "imagem": "imagens/macas.png", "resposta": 2, "opcoes": [1, 2, 3]},
]

janela = tk.Tk()
janela.title("Jogo de Matem√°tica")

pergunta_label = tk.Label(janela, text="", font=("Arial", 16))
pergunta_label.pack()

canvas = tk.Canvas(janela, width=200, height=200)
canvas.pack()

resposta_label = tk.Label(janela, text="", font=("Arial", 14), fg="green")
resposta_label.pack()

botoes = []
imagem_tk = None  # Vari√°vel global para armazenar a imagem

def verificar_resposta(resposta, correta):
    if resposta == correta:
        resposta_label.config(text="Parab√©ns! üéâ", fg="green")
    else:
        resposta_label.config(text="Tente novamente! üòä", fg="red")

def carregar_pergunta():
    global imagem_tk  # Usamos essa vari√°vel para manter a imagem carregada
    
    resposta_label.config(text="")
    
    pergunta_atual = random.choice(perguntas)
    pergunta_label.config(text=pergunta_atual["pergunta"])

    # Carregar a imagem correspondente
    imagem = Image.open(pergunta_atual["imagem"])
    imagem = imagem.resize((150, 150))  # Redimensiona para 150x150 pixels
    imagem_tk = ImageTk.PhotoImage(imagem)
    
    canvas.delete("all")  # Remove imagens anteriores
    canvas.create_image(100, 100, image=imagem_tk)  # Adiciona a nova imagem

    for widget in botoes:
        widget.destroy()
    botoes.clear()

    for opcao in pergunta_atual["opcoes"]:
        botao = tk.Button(janela, text=opcao, font=("Arial", 14),
                          command=lambda o=opcao: verificar_resposta(o, pergunta_atual["resposta"]))
        botao.pack()
        botoes.append(botao)

carregar_pergunta()
janela.mainloop()